<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"/>
    <link th:href="@{/assets/css/navbar.css}" href="/assets/css/navbar.css" type="text/css" media="all"
          rel="stylesheet"/>
    <link th:href="@{/assets/css/sidenav.css}" href="/assets/css/sidenav.css" type="text/css" media="all"
          rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/assets/css/home.css}" type="text/css" href="/assets/css/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<style>
    .sub-navbar {
        margin-top: 100px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.08);
        padding-top: 10px;
        padding-bottom: 10px;
        color: #313437;
    }
    .nav-pills .nav-link.active, .nav-pills .show>.nav-link {
        background-color: transparent;
        /* background-color: #007bff; */
    }
    #card-href {
        list-style-type: none;
        text-decoration: none;
    }
    #card-href:hover {
        list-style-type: none;
        text-decoration: none;
    }
</style>
<body>
<header th:insert="header.html ::  nav"></header>
<div class="container-fluid mt-5">
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-2 ">
                <div id="side-nav" th:insert="home/sidenav.html ::  sidenav"></div>
            </div>
            <div class="col-md-10 ">

                    <ul class="nav nav-pills mb-3 sub-navbar justify-content-center" id="pills-tab" role="tablist" >
                        <li class="nav-item">
                        <a class="nav-link nav-link active" id="pills-home-tab" data-toggle="tab" href="#pills-home"
                           role="tab" aria-controls="pills-home" aria-selected="true">
                            <span id="nav-link-profile"><i class="fas fa-id-badge"></i> Profiles <span class="badge badge-primary ml-1"   th:text="${userProfiles}"></span></span>
                        </a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link nav-link" id="pills-profile-tab" data-toggle="tab" href="#pills-profile"
                           role="tab" aria-controls="pills-profile" aria-selected="false"> <span  id="nav-link-broadcast"> <i
                                class="fas fa-broadcast-tower"></i> Broadcast <span
                                class="badge badge-danger ml-1">0</span></span> </a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link nav-link" id="pills-contact-tab" data-toggle="tab" href="#pills-contact"    role="tab" aria-controls="pills-contact" aria-selected="false"><span  id="nav-link-online-user">  <i
                                class="fas fa-user-friends"></i> Online Users <span class="badge badge-success ml-1"  id="online-users">
                     </span></span></a>
                        </li>
                    </ul>

                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                        <div class="row" style="float: left;">
                            <div class="users">
                            </div>
                        </div>
                            <div class="ajax-loader">
                                <photo class="shine" id="shimmer-photo"></photo>
                                <photo class="shine" id="shimmer-photo"></photo>
                                <photo class="shine" id="shimmer-photo"></photo>
                                <photo class="shine" id="shimmer-photo"></photo>
                                <photo class="shine" id="shimmer-photo"></photo>
                            </div>
                            <div id="message">
                            </div>
                            <div id="load_data_message">
                            </div>

                    </div>
                    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                        <h1 class="text-center mt-5 " >Coming soon</h1>
                    </div>
                        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                            <div id="online-users-profile">
                            </div>
                        </div>
                </div>

            </div>
        </div>
    </div>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/6f40d29aa1.js" crossorigin="anonymous"></script>
<script th:src="@{/assets/js/header.js}" type="application/javascript" src="/assets/js/header.js"></script>
<script th:src="@{/assets/js/home.js}" type="application/javascript" src="/assets/js/home.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"  integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"crossorigin="anonymous"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js">  AOS.init();</script>
<script src="https://js.pusher.com/7.0/pusher.min.js">
    // Enable pusher logging - don't include this in production
    Pusher.logToConsole = true;

    var pusher = new Pusher('fe6ae4d627b4ab84c8d9', {
        cluster: 'ap2'
    });

    var channel = pusher.subscribe('my-channel');

    channel.bind('my-channel', function(data) {
        console.log(data);
        alert(JSON.stringify(data));
        var count = channel.members.count;
        console.log(count);
    });


</script>

</html>